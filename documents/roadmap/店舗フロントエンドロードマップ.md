## 午前 (約2.0時間): タグAPI設計・実装・テスト

---

### **タスク 2.1: 【設計】タグ一覧API レスポンス形式と絞り込み条件の確定 (約0.5時間)**
* 🎯 **ゴール:** フロントエンド開発者が利用しやすい、タグ一覧APIのレスポンス形式（含める属性）とカテゴリによる絞り込みパラメータを確定する。
* **内容:**
    * APIエンドポイント: `GET /api/tags`
    * リクエストパラメータ: `category` (例: `area`, `genre`) による絞り込みを可能にする。
    * レスポンスに含めるタグごとの情報（例: `id`, `name`, `category`）。
* **実装タスク:**
    * チーム内でAPI仕様について合意形成。
    * 決定事項をAPI仕様書（または共有ドキュメント）の草案としてメモ。

---

### **タスク 2.2: 【実装】TagsController#index 基本ロジック実装 (約1.0時間)**
* 🎯 **ゴール:** 指定されたカテゴリのタグ情報、または全タグ情報を取得し、JSON形式で返すAPIの基本ロジックを実装する。
* **担当目安:** 2年目の方 (AI活用推奨)。
* **内容 (Ruby on Rails):**
    * `TagsController`と`index`アクションを作成。
    * `params[:category]` が存在すれば、そのカテゴリで`Tag`を絞り込み。存在しなければ全`Tag`を取得。
    * レスポンスに必要な情報を整形（例: `as_json`メソッドの活用）。
* **実装タスク:**
    * `TagsController#index`アクションのコーディング。
    * `Tag.where(category: params[:category])` や `Tag.all` でデータを取得。
    * レスポンスJSONの構造をタスク2.1の設計通りに構築。
    * HTTPステータスコード `200 OK` を設定。

---

### **タスク 2.3: 【テスト】タグ一覧API RSpecテスト作成 (約1.0時間)**
* 🎯 **ゴール:** タグ一覧APIの主要な振る舞いを検証するRSpecテストを作成し、パスさせる。
* **担当目安:** 2年目の方。
* **内容:**
    * 正常系テスト（全件取得、カテゴリ指定での取得、該当カテゴリのタグがない場合）。
    * レスポンス形式の検証（期待されるキーやデータ型が含まれているか）。
* **実装タスク:**
    * `spec/requests/api/tags_spec.rb` (または適切なテストファイル) を作成。
    * `FactoryBot`等でテストデータ（複数のカテゴリを持つタグ）を準備。
    * `GET /api/tags` および `GET /api/tags?category=some_category` を実行し、レスポンスボディとステータスコードを検証するテストを記述。
    * JSONレスポンスのキーや値の型を検証するテストを記述。

---

## 午後 (約3.5時間): 店舗登録FEの主要機能実装

---

### **タスク 2.4: 【FE準備】店舗登録ページ作成、ルーティング設定 (約0.5時間)**
* 🎯 **ゴール:** Next.jsで店舗登録用のページ（例: `/restaurants/new`）を作成し、アクセスできるようにする。
* **担当目安:** 2ヶ月目の方 (2年目の方サポート)。
* **内容:**
    * `app/restaurants/new/page.tsx` (または `pages/restaurants/new.tsx`) を作成し、基本的なページコンポーネントの枠組みを用意する。
* **実装タスク:**
    * Next.jsのファイルシステムベースのルーティングに従いファイルを作成。
    * 基本的なReactコンポーネント構造を記述。

---

### **タスク 2.5: 【FE設計】店舗登録画面 UI最終確認・API連携詳細確認 (約0.5時間)**
* 🎯 **ゴール:** 店舗登録画面のUI（入力項目、タグ選択方法）と、店舗登録API・タグ一覧APIとの連携方法を確定する。
* **担当目安:** 2人。
* **内容:**
    * 簡単なワイヤーフレームや前回の設計メモを元に、実装するUI要素とAPIから取得するデータのマッピングを確認。
* **実装タスク:**
    * チーム内でUI要素とデータフローについて合意形成。
    * 必要な`state`やイベントハンドラの概要を検討。

---

### **タスク 2.6: 【FE実装】タグ一覧API連携 (エリア・ジャンル選択肢表示) (約1.0時間)**
* 🎯 **ゴール:** 午前中に作成したタグ一覧APIを呼び出し、取得したエリアタグとジャンルタグをそれぞれのプルダウンメニュー（または類似の選択UI）に表示する。
* **担当目安:** ペアプログラミング推奨（2年目の方が作成したAPIを2ヶ月目の方がフロントで使う）。
* **内容:**
    * `useEffect` などでページ読み込み時にタグ一覧API (`GET /api/tags?category=area` と `GET /api/tags?category=genre`) を呼び出す。
    * 取得したデータをReactの`state`（またはZustandストア）に保持。
    * `<select>` タグの `<option>` を動的に生成して表示。
* **実装タスク:**
    * APIクライアント（`axios`など）を使用してAPIを呼び出す関数を実装。
    * 取得データを`state`にセットし、UIに反映させるロジックを記述。
    * ローディング中やエラー発生時の簡易的な表示を考慮。

---

### **タスク 2.7: 【FE実装】店舗登録フォームUIコンポーネント作成 (約1.0時間)**
* 🎯 **ゴール:** 店舗名入力フィールド、エリア選択、ジャンル選択、送信ボタンを含むフォームのUI部品を作成する。
* **担当目安:** 2ヶ月目の方主担当、2年目の方UIデザイン指示・コンポーネント設計サポート (AI活用推奨)。
* **内容:**
    * 店舗名: `<input type="text">`
    * エリア選択: タスク2.6で取得したエリアタグリストを表示する`<select>`タグ。
    * ジャンル選択: タスク2.6で取得したジャンルタグリストを表示する`<select>`タグ。
    * 送信ボタン。
    * 基本的なフォーム全体のレイアウト。
* **実装タスク:**
    * 各入力要素を持つReactコンポーネントを作成。
    * 最低限のスタイリング。

---

### **タスク 2.8: 【FE実装】フォーム入力値の状態管理 (約0.5時間)**
* 🎯 **ゴール:** ユーザーがフォームに入力・選択した値（店舗名、選択されたエリアタグID、ジャンルタグID）をReactの`state`（またはZustand）で管理できるようにする。
* **担当目安:** ペアプログラミング推奨、または2年目の方。
* **内容:**
    * `useState` や `useReducer`、あるいはZustandのストアを準備し、各入力フィールドの変更イベントをハンドルして状態を更新。
* **実装タスク:**
    * フォームデータの`state`を定義。
    * 各入力要素の`onChange`イベントに対するハンドラを実装。

---

### **タスク 2.9: 【FE実装】店舗登録API連携処理実装 (POSTリクエスト) (約1.0時間)**
* 🎯 **ゴール:** フォーム送信時に、入力された値を店舗登録API (`POST /api/restaurants`) に送信する処理を実装する。
* **担当目安:** 2年目の方主導、2ヶ月目の方サポート。
* **内容:**
    * APIクライアント（`axios`など）を使い、フォームの入力値（`name`, `area_tag_id`, `genre_tag_id`）をAPIの仕様に合わせた形式で送信。
    * 送信中のローディング表示（簡易的でOK）。
    * APIからのレスポンスに応じて、成功メッセージ（例: 「登録しました」）やエラーメッセージを画面に表示する（例: `alert()` や画面上の特定領域に表示）。成功時は一覧ページへリダイレクトなど。
* **実装タスク:**
    * フォームの`onSubmit`イベントに対するハンドラを実装。
    * API呼び出しとレスポンス処理のロジックを記述。

---

## 夕方 (約1.5時間): テストとドキュメント、日次レビュー

---

### **タスク 2.10: 【手動テスト】店舗登録FE・タグAPI動作確認 (Postman含む) (約0.75時間)**
* 🎯 **ゴール:** 実装したタグ一覧APIと店舗登録フロントエンドが連携して正しく動作することを確認する。
* **担当目安:** 2人。
* **内容:**
    * タグ一覧APIを`Postman`等でテスト（カテゴリ絞り込み含む）。
    * 店舗登録フォームから実際に店舗を登録し、バックエンドにデータが保存されることを確認。
    * フォームのバリデーション（フロント側で実装していれば）や、APIエラー時のフィードバック表示を確認。
* **実装タスク:**
    * テストシナリオの実行と結果の記録・共有。

---

### **タスク 2.11: 【ドキュメント】API仕様書更新 (タグAPI) (約0.25時間)**
* 🎯 **ゴール:** タグ一覧APIの情報をAPI仕様書に追記し、フロントエンド開発者が参照できるようにする。
* **担当目安:** 2年目の方 (AI支援で効率化)。
* **内容:**
    * エンドポイント情報（HTTPメソッド、URL、説明）。
    * リクエストパラメータ（`category`）。
    * レスポンス例。
* **実装タスク:**
    * API仕様書のMarkdownファイルを更新。
    * タグAPIのセクションを追加し、詳細を記載。

---

### **タスク 2.12: 【共通】Day2タスク完了確認、課題洗い出し (約0.5時間)**
* 🎯 **ゴール:** Day2の目標達成度を確認し、残課題や翌日への申し送り事項を明確にする。
* **担当目安:** 2人。
* **内容:**
    * 本日実施したタスクの完了状況を確認。
    * 未完了タスクや、実装中に見つかった課題、懸念事項などをリストアップ。
    * Day3（店舗一覧FE、店舗詳細FE）に向けて、API仕様に関する最終確認や、フロントエンド担当者への情報共有。

---

###6/5(木)　担当：阿野

#### タスク 4.1: 【設計】店舗詳細画面 UI最終確認・API連携詳細確認 (約0.5時間)
- 🎯 **ゴール:** 店舗詳細画面に表示する項目（店舗名、エリア、ジャンル、登録者情報など）、APIレスポンスのどのデータを使用するか、全体のレイアウトについてチームで最終確認する。
- **担当目安:** 2人。
- **内容:**
    - 店舗詳細APIのレスポンス形式を再確認。
    - 画面のワイヤーフレームやモックアップ（あれば）を元に、表示要素を確定。
    - 「Google Mapで調べる」ボタンの動作、「レビューを書く」ボタンの配置などを決定。

---

#### 【設計メモ】店舗詳細画面の表示項目・APIレスポンス例・UI構成案

- **想定APIレスポンス例（GET /api/restaurants/:id）**
```json
{
  "id": 1,
  "name": "トキエイツ渋谷店",
  "area_tag": { "id": 2, "name": "渋谷", "category": "area" },
  "genre_tag": { "id": 5, "name": "イタリアン", "category": "genre" }
}
```

- **画面に表示する主な項目**
    - 店舗名
    - エリア名（area_tag.name）
    - ジャンル名（genre_tag.name）
    - Google Mapで調べるボタン（店舗名で検索）
    - レビューを書くボタン（仮リンク）

- **UI構成（テキストワイヤー例）**

```
+-------------------------------+
| 店舗名: トキエイツ渋谷店         |
| エリア: 渋谷                   |
| ジャンル: イタリアン            |
|                               |
| [Google Mapで調べる] [レビューを書く] |
+-------------------------------+
```

- **備考**
    - Google Mapボタンは `https://www.google.com/maps/search/?api=1&query=店舗名` で新規タブ遷移
    - レビュー投稿ボタンは `/restaurants/[id]/reviews/new` など仮リンク
    - レスポンスに含まれない場合はバックエンドに要相談

---

#### タスク 4.2: 【FE】店舗詳細ページ作成、動的ルーティング設定 (約1.0時間)
- 🎯 **ゴール:** Next.jsで店舗詳細ページ（例: `/restaurants/[id]`）を作成し、URLに含まれる店舗IDに基づいて表示内容が変わる動的ルーティングを設定する。
- **担当目安:** 2年目の方。
- **内容:**
    - `app/restaurants/[id]/page.tsx` (または `pages/restaurants/[id].tsx`) ファイルを作成。
    - URLから店舗IDを取得できることを確認。

---

#### タスク 4.3: 【FE】店舗詳細情報表示UIコンポーネント作成 (約2.0時間)
- 🎯 **ゴール:** APIから取得する店舗詳細情報（店舗名、エリア名、ジャンル名、登録者情報など）を表示するためのUI部品を作成する。
- **担当目安:** 2ヶ月目の方主担当、2年目の方サポート。
- **内容:**
    - 店舗名、エリア、ジャンル、などの表示エリアを作成。
    

---

#### タスク 4.4: 【FE】店舗詳細API連携処理実装 (約1.5時間)
- 🎯 **ゴール:** 店舗詳細API (`GET /api/restaurants/:id`) を呼び出し、取得したデータを画面に反映させる。
- **担当目安:** 2年目の方主導、2ヶ月目の方サポート。
- **内容:**
    - APIクライアントでデータ取得。
    - ローディング・エラー時の表示。
    - 取得データをstateにセットし、UIに反映。

---

#### タスク 4.5: 【FE】「Google Mapで調べる」ボタン実装 (約1.0時間)
- 🎯 **ゴール:** ボタンをクリックすると、店舗名でGoogle Maps検索結果ページが新しいタブで開く。
- **担当目安:** 2ヶ月目の方挑戦。
- **内容:**
    - 店舗名からGoogle Maps検索用URLを生成し、ボタンに設定。

---

#### タスク 4.6: 【FE】レビュー投稿機能への導線ボタン設置 (約0.5時間)
- 🎯 **ゴール:** 店舗詳細ページからレビュー投稿機能へのボタンを設置する。
- **担当目安:** 2ヶ月目の方。
- **内容:**
    - 「レビューを書く」ボタン設置。仮リンクまたは見た目のみ。

---

#### タスク 4.7: 【テスト】店舗詳細FE 手動テスト (約0.5時間)
- 🎯 **ゴール:** 店舗詳細ページが正しく表示され、ボタンが意図通り機能することを確認する。
- **担当目安:** 2人。
- **内容:**
    - 複数IDでの表示確認、エラー時の挙動確認、ボタン動作確認。

---

#### タスク 4.8: 【共通】Day4タスク完了確認、課題洗い出し (約1時間)
- 🎯 **ゴール:** Day4の目標達成度を確認し、残課題や翌日への申し送り事項を明確にする。
- **担当目安:** 2人。
- **内容:**
    - 本日実施したタスクの完了状況を確認。
    - 実装中に見つかった課題やAPI仕様とのズレなどをリストアップ。
    - Day5（レビュー機能実装）に向けて必要な情報を整理。